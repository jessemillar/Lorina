<html>
	<head>
		<title>Lorina</title>
		<style>
			html, body
			{
				padding: 0px;
				margin: 0px;
			}

			#canvas
			{
				position: absolute;
				left: 50%;
				top: 50%;
				margin-left: -200px;
				margin-top: -200px;
				z-index: 0;
			}
		</style>
		<script src = "../lorina.js"></script>
		<script src = "../lorina-collisions.js"></script>
		<script src = "../lorina-draw.js"></script>
		<script src = "../lorina-objects.js"></script>
	</head>
	<body onkeydown = 'key(event)'>
		<canvas id = "canvas" width = "400px" height = "400px"></canvas>
	</body>
	<script>
		var speed = 45

		l.object.make('marker', 300, 0)
		l.object.make('corgi1', 10, 10, 'images/corgi.png', 35, 35, 0, 0)
		l.object.make('corgi2', 120, 120, 'images/corgi.png', 35, 35)

		l.game.setup('#111111')
		l.game.run()

		function game()
		{
			l.move.toward('corgi1', 'marker', speed)
			l.move.toward('corgi2', 'corgi1', speed)

			if (l.collision.overlap('corgi1', 'corgi2'))
			{
				l.camera.color = '#ff0000'
			}
			else
			{
				l.camera.color = '#111111'
			}

			l.draw.blank()
			l.draw.object('corgi1')
			l.draw.object('corgi2')
		}

		function key(event)
		{
			if (event.keyCode == 32) // Spacebar
			{
				l.move.snap('marker', 0, 0)
			}

			if (event.keyCode == 38) // Up arrow
			{
				l.move.up('corgi1', speed)
			}
			else if (event.keyCode == 40) // Down arrow
			{
				l.move.down('corgi1', speed)
			}

			if (event.keyCode == 37) // Left arrow
			{
				l.move.left('corgi1', speed)
			}
			else if (event.keyCode == 39) // Right arrow
			{
				l.move.right('corgi1', speed)
			}
		}
	</script>
</html>